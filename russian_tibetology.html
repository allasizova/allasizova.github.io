<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Библиографические записи</title>
    <style>
        .biblio-entry {
            margin-bottom: 20px;
            border: 1px solid #ddd;
            padding: 10px;
            background-color: #73D0F0; /* Цвет фона */
        }
    </style>
</head>
<body>
    <h1>Библиографические записи</h1>
    <div>
        <label for="filterAuthor">Фильтр по автору:</label>
        <select id="filterAuthor" onchange="filterByAuthor(this.value)">
            <option value="">Все авторы</option>
            <!-- Опции заполняются динамически -->
        </select>

        <label for="filterHashtag">Фильтр по хэштэгу:</label>
        <select id="filterHashtag" onchange="filterByHashtag(this.value)">
            <option value="">Все хэштэги</option>
            <!-- Опции заполняются динамически -->
        </select>
    </div>
    <div id="biblioContainer"></div>

    <script>
        const bibliographicEntries = [
            {
                authors: ["Иван Иванов", "Петр Петров"],
                editors: ["Александр Смирнов"],
                title: "Исследование А",
                type: "Книга",
                hashtags: ["#наука", "#образование"],
                url: "http://example.com/book1"
            },
            {
                authors: ["Алексей Алексеев"],
                editors: ["Мария Иванова"],
                title: "Разработка Б",
                type: "Статья",
                hashtags: ["#технологии", "#инновации"],
                url: "http://example.com/article1"
            }
        ];

        function displayBibliographicEntries(entries = bibliographicEntries) {
            const container = document.getElementById('biblioContainer');
            container.innerHTML = '';

            entries.forEach(entry => {
                const entryElement = document.createElement('div');
                entryElement.classList.add('biblio-entry');
                entryElement.innerHTML = `
                    <p>Авторы: ${entry.authors.join(", ")}</p>
                    <p>Редакторы: ${entry.editors.join(", ")}</p>
                    <p>Название: ${entry.title}</p>
                    <p>Тип: ${entry.type}</p>
                    <p>Хэштеги: ${entry.hashtags.join(" ")}</p>
                    <p>URL: <a href="${entry.url}" target="_blank">Перейти к источнику</a></p>`;
                container.appendChild(entryElement);
            });
        }

        function populateFilters() {
            const authorSet = new Set();
            const hashtagSet = new Set();

            bibliographicEntries.forEach(entry => {
                entry.authors.forEach(author => authorSet.add(author));
                entry.hashtags.forEach(hashtag => hashtagSet.add(hashtag));
            });

            const authorSelect = document.getElementById('filterAuthor');
            authorSet.forEach(author => {
                const option = new Option(author, author);
                authorSelect.add(option);
            });

            const hashtagSelect = document.getElementById('filterHashtag');
            hashtagSet.forEach(hashtag => {
                const option = new Option(hashtag, hashtag);
                hashtagSelect.add(option);
            });
        }

        function filterByAuthor(author) {
            const filteredEntries = author ? bibliographicEntries.filter(entry => entry.authors.includes(author)) : bibliographicEntries;
            displayBibliographicEntries(filteredEntries);
        }

        function filterByHashtag(hashtag) {
            const filteredEntries = hashtag ? bibliographicEntries.filter(entry => entry.hashtags.includes(hashtag)) : bibliographicEntries;
            displayBibliographicEntries(filteredEntries);
        }

        document.addEventListener('DOMContentLoaded', () => {
            displayBibliographicEntries();
            populateFilters();
        });
    </script>
</body>
</html>
